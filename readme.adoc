// Autogenerated. Edit doc/readme.adoc instead.
= Tuxmux

:license_link: https://github.com/EdenEast/tuxmux/blob/main/LICENSE
:apache: https://apache.org/licenses/LICENSE-2.0

image:https://github.com/EdenEast/tuxmux/actions/workflows/check.yml/badge.svg?style=svg[ci-badge, link="https://github.com/EdenEast/tuxmux/actions/workflows/check.yml"]
image:https://img.shields.io/badge/license-Apache2.0-blue.svg[license-badge, link="{apache}"]

[sidebar]
*_Tuxmux_ (_tm_)* is a session and window manager for tmux.

image:https://user-images.githubusercontent.com/2746374/266213849-a7c59c69-4f12-4846-9f06-45f552197890.gif[]

== Features

- Fuzzy find tmux sessions to create / attach.
- Jump list to quickly open tmux sessions (harpoon like)
- Keybinding support for jumping
- Highly configurable
- Support git worktrees on session creation

:leveloffset: 1

= Installation

== Cargo

[source,sh]
----
cargo install tuxmux
----

== Nix

[source,sh]
----
# Try out tuxmux with `nix run`
nix run github:EdenEast/tuxmux

# Create a devshell with `nix shell`
nix shell github:EdenEast/tuxmux

# Install into profile
nix profile install github:EdenEast/tuxmux

# Install from nixpkgs
nix-env -iA nixpkgs.tuxmux
----

== Source

[source,sh]
----
cargo install --path .
----

:leveloffset!:

// TODO: add section explaining jumping and how do add tmux, and bash key bindings
// TODO: add section on git worktree support

:leveloffset: 1

= Configuration

Tuxmux uses https://kdl.dev[KDL] as its configuration language.

== Quickstart:

[source,shell]
----
mkdir -p ~/.config/tuxmux
tm --default-config > ~/.config/tuxmux/config.kdl
----

== File locations

Tuxmux loads configuration information from two types of sources, local and global. The file is determined by searching
each path for the first `config.kdl` file.

|===
|Local | Global

|`$TUXMUX_DATA_PATH`
|`$TUXMUX_CONFIG_PATH`

|`$XDG_DATA_HOME/tuxmux`
|`$XDG_CONFIG_HOME/tuxmux`

|`~/.local/share/tuxmux`
|`~/.config/tuxmux`
|===

Values defined in the local config file have presidence over global values. Values containing lists will be merged
instead of overritten.

== Options

Full list of values defined in `config.kdl`.

=== depth

Sets the maximux search depth for workspace paths.

[%hardbreaks]
Type: `number`
Default: `5`

[source,javascript]
----
depth 3
----

=== height

Height of the fuzzy finder selection window. The value can be either a number or a string.
A number represents the number of lines or entries to be displayed. A string can be either
the string "full" meaning fullscreen or a number followed by a '%' (percent sign).
The percentage is the percentage of the terminals hight to be used.

[%hardbreaks]
Type: `string | number`
Default: `50%`

[source,javascript]
----
height 10
----

=== default_worktree

Select the repositories remote default branch if multiple worktrees are found. If the default
worktree cannot be found the fallback will be to select the correct one.

[%hardbreaks]
Type: `boolean`
Default: `false`

[source,javascript]
----
default_worktree true
----

=== exclude_paths

Workspace directory crawler will prune the paths containing any of these components.

Optional arguments:

* default: (boolean) Append to default value if true (Default: true)

[%hardbreaks]
Type: `string list`
Default: `{ - ".direnv" "node_modules" }`

[source,javascript]
----
exclude_paths default=false {
  - ".direnv"
  - "node_modules"
}
----

=== paths

Configure the list of search paths used to search for valid workspaces.  Tm uses these valid workspaces as options to
attach to.

==== paths.workspace

Workspace paths are paths to recursivly search to find valid workspaces.  Tm will recursivly search the workspace paths
until the max depth is reached. To override the default workspace value set optional `default=false`

Optional arguments:

* default: (boolean) Append to default value if true (Default: true)

[%hardbreaks]
Type: `string list`
Default: `{ - "~" }`

[source, javascript]
----
paths {
  workspaces default=false {
    - "~/code"
  }
}
----

==== paths.single

Single paths are paths that are added to the list of valid workspace paths. This is useful if you want to add a path
that would not be defined as a valid workspace.

Optional arguments:

* default: (boolean) Append to default value if true (Default: true)

[%hardbreaks]
Type: `string list`
Default: `{}`

[source, javascript]
----
paths {
  single default=false {
    - "~/.config/nvim"
  }
}
----

:leveloffset!:

== Development

Tuxmux is currently under development and subject to change before a `v1` release. Have an idea for tuxmux? Open an
issue or fork the project and create a PR.

Tuxmux was originally a shell script in my link:{dotfiles}[dotfiles] and has grown into this utility program.

:dotfiles: https://github.com/EdenEast/nyx/blob/7f0c07964222450ec33823ee76ff97dca190162b/bin/tm

== Licence

Tuxmux is licensed under link:{apache}[Apache] License (Version 2).

See link:{license_link}[LICENSE] file for more details.
